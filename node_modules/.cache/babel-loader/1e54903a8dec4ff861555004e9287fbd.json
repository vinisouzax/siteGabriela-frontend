{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nimport api from './services/api';\nexport function initialize({\n  history\n}) {\n  const authorization = localStorage.getItem('61757468');\n\n  if (!authorization) {\n    history.push('./Login');\n  } else {\n    let auth_decode = jwt_decode(authorization);\n    let response = getUser(auth_decode, authorization);\n\n    if (response.data.result.length > 0) {\n      let obj = [{\n        permission: auth_decode.permission,\n        authorization\n      }];\n\n      if (obj[0].permission !== 1) {\n        history.push('/');\n      }\n\n      return obj;\n    } else {\n      history.push('./Login');\n    }\n  }\n}\n\nasync function getUser(auth_decode, authorization) {\n  let response = await api.get(`/users/${auth_decode.user_id}`, {\n    headers: {\n      authorization\n    }\n  });\n  return response;\n}","map":{"version":3,"sources":["/var/www/html/siteGabriela/frontend/src/Util.js"],"names":["jwt_decode","api","initialize","history","authorization","localStorage","getItem","push","auth_decode","response","getUser","data","result","length","obj","permission","get","user_id","headers"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,OAAO,SAASC,UAAT,CAAoB;AAACC,EAAAA;AAAD,CAApB,EAA8B;AACjC,QAAMC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAtB;;AAEA,MAAG,CAACF,aAAJ,EAAkB;AACdD,IAAAA,OAAO,CAACI,IAAR,CAAa,SAAb;AACH,GAFD,MAEK;AACD,QAAIC,WAAW,GAAGR,UAAU,CAACI,aAAD,CAA5B;AAEA,QAAIK,QAAQ,GAAGC,OAAO,CAACF,WAAD,EAAcJ,aAAd,CAAtB;;AAEA,QAAGK,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqBC,MAArB,GAA8B,CAAjC,EAAmC;AAC/B,UAAIC,GAAG,GAAG,CAAC;AAACC,QAAAA,UAAU,EAAEP,WAAW,CAACO,UAAzB;AACPX,QAAAA;AADO,OAAD,CAAV;;AAIA,UAAGU,GAAG,CAAC,CAAD,CAAH,CAAOC,UAAP,KAAsB,CAAzB,EAA2B;AACvBZ,QAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AACH;;AACD,aAAOO,GAAP;AACH,KATD,MASK;AACDX,MAAAA,OAAO,CAACI,IAAR,CAAa,SAAb;AACH;AACJ;AACJ;;AAED,eAAeG,OAAf,CAAuBF,WAAvB,EAAoCJ,aAApC,EAAkD;AAE9C,MAAIK,QAAQ,GAAG,MAAMR,GAAG,CAACe,GAAJ,CAAS,UAASR,WAAW,CAACS,OAAQ,EAAtC,EAAyC;AAC1DC,IAAAA,OAAO,EAAE;AAACd,MAAAA;AAAD;AADiD,GAAzC,CAArB;AAIA,SAAOK,QAAP;AACH","sourcesContent":["import jwt_decode from 'jwt-decode';\nimport api from './services/api';\n\nexport function initialize({history}){\n    const authorization = localStorage.getItem('61757468');\n\n    if(!authorization){\n        history.push('./Login')\n    }else{\n        let auth_decode = jwt_decode(authorization);\n\n        let response = getUser(auth_decode, authorization);\n\n        if(response.data.result.length > 0){\n            let obj = [{permission: auth_decode.permission,\n                authorization\n            }];\n    \n            if(obj[0].permission !== 1){\n                history.push('/')\n            }\n            return obj;\n        }else{\n            history.push('./Login')\n        }\n    }\n}\n\nasync function getUser(auth_decode, authorization){\n\n    let response = await api.get(`/users/${auth_decode.user_id}`, {\n        headers: {authorization},\n    });\n\n    return response;\n}"]},"metadata":{},"sourceType":"module"}