{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nimport api from './services/api';\nexport function initialize({\n  history\n}) {\n  const authorization = localStorage.getItem('61757468');\n\n  if (!authorization) {\n    history.push('./Login');\n  } else {\n    let auth_decode = jwt_decode(authorization);\n    let obj = [{\n      permission: auth_decode.permission,\n      authorization\n    }];\n\n    if (obj[0].permission !== 1) {\n      history.push('/');\n    }\n\n    return obj;\n  }\n}\nexport async function loadSubjects() {\n  let response = await api.get('/subjects');\n  response = response.data;\n\n  if (response.result.length > 0) {\n    let data = [];\n\n    for (let i = 0; i < response.result.length; i++) {\n      if (response.result[i].active === true) {\n        data.push({\n          subject_id: response.result[i].subject_id,\n          name: response.result[i].name\n        });\n      }\n    }\n\n    return data;\n  }\n}","map":{"version":3,"sources":["/var/www/html/siteGabriela/frontend/src/Util.js"],"names":["jwt_decode","api","initialize","history","authorization","localStorage","getItem","push","auth_decode","obj","permission","loadSubjects","response","get","data","result","length","i","active","subject_id","name"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,OAAO,SAASC,UAAT,CAAoB;AAACC,EAAAA;AAAD,CAApB,EAA8B;AACjC,QAAMC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAtB;;AAEA,MAAG,CAACF,aAAJ,EAAkB;AACdD,IAAAA,OAAO,CAACI,IAAR,CAAa,SAAb;AACH,GAFD,MAEK;AACD,QAAIC,WAAW,GAAGR,UAAU,CAACI,aAAD,CAA5B;AAEA,QAAIK,GAAG,GAAG,CAAC;AAACC,MAAAA,UAAU,EAAEF,WAAW,CAACE,UAAzB;AACPN,MAAAA;AADO,KAAD,CAAV;;AAIA,QAAGK,GAAG,CAAC,CAAD,CAAH,CAAOC,UAAP,KAAsB,CAAzB,EAA2B;AACvBP,MAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AACH;;AAED,WAAOE,GAAP;AACH;AACJ;AAED,OAAO,eAAeE,YAAf,GAA6B;AAChC,MAAIC,QAAQ,GAAG,MAAMX,GAAG,CAACY,GAAJ,CAAQ,WAAR,CAArB;AACAD,EAAAA,QAAQ,GAAGA,QAAQ,CAACE,IAApB;;AAEA,MAAGF,QAAQ,CAACG,MAAT,CAAgBC,MAAhB,GAAyB,CAA5B,EAA8B;AAC1B,QAAIF,IAAI,GAAG,EAAX;;AACA,SAAI,IAAIG,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGL,QAAQ,CAACG,MAAT,CAAgBC,MAAnC,EAA2CC,CAAC,EAA5C,EAA+C;AAC3C,UAAGL,QAAQ,CAACG,MAAT,CAAgBE,CAAhB,EAAmBC,MAAnB,KAA8B,IAAjC,EAAsC;AAClCJ,QAAAA,IAAI,CAACP,IAAL,CAAU;AACNY,UAAAA,UAAU,EAAEP,QAAQ,CAACG,MAAT,CAAgBE,CAAhB,EAAmBE,UADzB;AAENC,UAAAA,IAAI,EAAER,QAAQ,CAACG,MAAT,CAAgBE,CAAhB,EAAmBG;AAFnB,SAAV;AAIH;AACJ;;AACD,WAAON,IAAP;AACH;AACJ","sourcesContent":["import jwt_decode from 'jwt-decode';\nimport api from './services/api';\n\nexport function initialize({history}){\n    const authorization = localStorage.getItem('61757468');\n\n    if(!authorization){\n        history.push('./Login')\n    }else{\n        let auth_decode = jwt_decode(authorization);\n\n        let obj = [{permission: auth_decode.permission,\n            authorization\n        }];\n\n        if(obj[0].permission !== 1){\n            history.push('/')\n        }\n        \n        return obj;\n    }\n}\n\nexport async function loadSubjects(){\n    let response = await api.get('/subjects');\n    response = response.data;\n    \n    if(response.result.length > 0){\n        let data = [];\n        for(let i = 0; i < response.result.length; i++){\n            if(response.result[i].active === true){\n                data.push({\n                    subject_id: response.result[i].subject_id,\n                    name: response.result[i].name,\n                });\n            }\n        }\n        return data;\n    }   \n}"]},"metadata":{},"sourceType":"module"}